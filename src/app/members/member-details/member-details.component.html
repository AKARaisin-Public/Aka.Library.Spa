<section *ngIf="member$ | async as member">
  <div class="form-group" fxLayout="row wrap" fxLayoutAlign="center center">
    <form (ngSubmit)="onSubmit()" [formGroup]="memberForm">
      <mat-card class="member-card">
        <mat-card-header>
          <mat-card-title>
            <h3>Member Details</h3>
          </mat-card-title>
          <mat-card-subtitle>{{ member.fullName }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>

          <mat-form-field>
            <input matInput placeholder="First Name" formControlName="firstName" [(ngModel)]="firstName" />
            <button mat-button *ngIf="firstName" matSuffix mat-icon-button aria-label="Clear" (click)="firstName=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Last Name" formControlName="lastName" [(ngModel)]="lastName" />
            <button mat-button *ngIf="lastName" matSuffix mat-icon-button aria-label="Clear" (click)="lastName=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Postal Code" formControlName="postalCode" [(ngModel)]="postalCode" />
            <button mat-button *ngIf="postalCode" matSuffix mat-icon-button aria-label="Clear" (click)="postalCode=''">
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>

        </mat-card-content>
        <mat-card-actions align="end">
          <button type="submit" mat-button color="warn" [disabled]='this.memberForm.isValid'>Save</button>
          <button type="reset" mat-button color="warn" (click)="reset($event)">Clear changes</button>
        </mat-card-actions>
      </mat-card>
    </form>
  </div>

  <mat-tab-group>
    <mat-tab label="Currently Signed Out">
      <div *ngIf="signedout$ | async as signedout">
        <app-member-book-list member-books="signedout"></app-member-book-list>
      </div>
    </mat-tab>
    <mat-tab label="Sign Out History">
      <div *ngIf="bookhistory$ | async as bookhistory">
        <app-member-book-list member-books="bookhistory"></app-member-book-list>
      </div>
    </mat-tab>
  </mat-tab-group>
</section>